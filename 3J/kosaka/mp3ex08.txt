mp3ex08.txt
s12083 3J18 五味京祐

1.課題
「ledpwm.c」では高速点滅を眼で確認できなかったと思う。
　　LEDをデューティ比50％で駆動し，1周期をどれくらいにすると点滅を眼で確認できてしまうのか，
　　境界のを実験により求めなさい。そのためのプログラムを作って確認しなさい。

2.使用したプログラム
/**********************************************************
LEDのPWM(PulseWidthModulation)駆動
**********************************************************/
#include <3048fone.h>
#include "h8_3048fone.h"

void waitmsec(int msec)
/*msec間なにもしない時間稼ぎ関数*/
{
	int i,j;
	for (i=0;i<msec;i++) {
		for (j=0;j<4190;j++);    /*4190は実測によって求めた値 25MHz駆動*/
	}
}

main()
{
	int i;
	initLed(); /*LEDの初期化*/
	while(1) {
		turnOnLed(1); /*LED1のON*/
		waitmsec(11);
		turnOffLed(1); /*LED1のOFF*/
		waitmsec(11);
	}
}

3.考察
周期が24ms以上だとちらつきを感じた．

4.まとめ
周期が24msということは，周波数は41.6Hzである．